{
  "id": "6732f5ea-27e7-4fa9-a3dc-bb24f69eb129",
  "title": "Maximum Genetic Difference Query",
  "slug": "maximum-genetic-difference-query",
  "description": "There is a rooted tree consisting of `n` nodes numbered `0` to `n - 1`. Each node's number denotes its **unique genetic value** (i.e. the genetic value of node `x` is `x`). The **genetic difference** between two genetic values is defined as the **bitwise-****XOR** of their values. You are given the integer array `parents`, where `parents[i]` is the parent for node `i`. If node `x` is the **root** of the tree, then `parents[x] == -1`.\n\nYou are also given the array `queries` where `queries[i] = [nodei, vali]`. For each query `i`, find the **maximum genetic difference** between `vali` and `pi`, where `pi` is the genetic value of any node that is on the path between `nodei` and the root (including `nodei` and the root). More formally, you want to maximize `vali XOR pi`.\n\nReturn _an array_ `ans` _where_ `ans[i]` _is the answer to the_ `ith` _query_.\n\n**Example 1:**\n\n**Input:** parents = \\[-1,0,1,1\\], queries = \\[\\[0,2\\],\\[3,2\\],\\[2,5\\]\\]\n**Output:** \\[2,3,7\\]\n**Explanation:** The queries are processed as follows:\n- \\[0,2\\]: The node with the maximum genetic difference is 0, with a difference of 2 XOR 0 = 2.\n- \\[3,2\\]: The node with the maximum genetic difference is 1, with a difference of 2 XOR 1 = 3.\n- \\[2,5\\]: The node with the maximum genetic difference is 2, with a difference of 5 XOR 2 = 7.\n\n**Example 2:**\n\n**Input:** parents = \\[3,7,-1,2,0,7,0,2\\], queries = \\[\\[4,6\\],\\[1,15\\],\\[0,5\\]\\]\n**Output:** \\[6,14,7\\]\n**Explanation:** The queries are processed as follows:\n- \\[4,6\\]: The node with the maximum genetic difference is 0, with a difference of 6 XOR 0 = 6.\n- \\[1,15\\]: The node with the maximum genetic difference is 1, with a difference of 15 XOR 1 = 14.\n- \\[0,5\\]: The node with the maximum genetic difference is 2, with a difference of 5 XOR 2 = 7.\n\n**Constraints:**\n\n*   `2 <= parents.length <= 105`\n*   `0 <= parents[i] <= parents.length - 1` for every node `i` that is **not** the root.\n*   `parents[root] == -1`\n*   `1 <= queries.length <= 3 * 104`\n*   `0 <= nodei <= parents.length - 1`\n*   `0 <= vali <= 2 * 105`",
  "difficulty": "Hard",
  "category": null,
  "xpReward": 0,
  "timeLimitMs": 5000,
  "memoryLimitMb": 256,
  "starterCode": {},
  "solutionCode": "",
  "hints": [],
  "isPremium": false,
  "createdBy": null,
  "testCases": [
    {
      "input": [
        [
          -1,
          0,
          1,
          1
        ],
        [
          [
            0,
            2
          ],
          [
            3,
            2
          ],
          [
            2,
            5
          ]
        ]
      ],
      "expectedOutput": [
        2,
        3,
        7
      ]
    },
    {
      "input": [
        [
          3,
          7,
          -1,
          2,
          0,
          7,
          0,
          2
        ],
        [
          [
            4,
            6
          ],
          [
            1,
            15
          ],
          [
            0,
            5
          ]
        ]
      ],
      "expectedOutput": [
        6,
        14,
        7
      ]
    }
  ],
  "hiddenTestCases": [
    {
      "input": [
        [
          -1,
          0,
          1,
          1
        ],
        [
          [
            0,
            2
          ],
          [
            3,
            2
          ],
          [
            2,
            5
          ]
        ]
      ],
      "expectedOutput": [
        2,
        3,
        7
      ]
    },
    {
      "input": [
        [
          3,
          7,
          -1,
          2,
          0,
          7,
          0,
          2
        ],
        [
          [
            4,
            6
          ],
          [
            1,
            15
          ],
          [
            0,
            5
          ]
        ]
      ],
      "expectedOutput": [
        6,
        14,
        7
      ]
    }
  ],
  "tags": [],
  "constraints": [],
  "examples": [],
  "problemNumber": null,
  "createdAt": "2025-11-14T21:23:44.265465+00:00",
  "updatedAt": "2025-12-04T04:36:31.518Z"
}
