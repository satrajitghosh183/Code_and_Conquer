{
  "id": "4048e972-0bbf-44f8-b215-8a2f663530bc",
  "title": "Handling Sum Queries After Update",
  "slug": "handling-sum-queries-after-update",
  "description": "You are given two **0-indexed** arrays `nums1` and `nums2` and a 2D array `queries` of queries. There are three types of queries:\n\n1.  For a query of type 1, `queries[i] = [1, l, r]`. Flip the values from `0` to `1` and from `1` to `0` in `nums1` from index `l` to index `r`. Both `l` and `r` are **0-indexed**.\n2.  For a query of type 2, `queries[i] = [2, p, 0]`. For every index `0 <= i < n`, set `nums2[i] = nums2[i] + nums1[i] * p`.\n3.  For a query of type 3, `queries[i] = [3, 0, 0]`. Find the sum of the elements in `nums2`.\n\nReturn _an array containing all the answers to the third type queries._\n\n**Example 1:**\n\n**Input:** nums1 = \\[1,0,1\\], nums2 = \\[0,0,0\\], queries = \\[\\[1,1,1\\],\\[2,1,0\\],\\[3,0,0\\]\\]\n**Output:** \\[3\\]\n**Explanation:** After the first query nums1 becomes \\[1,1,1\\]. After the second query, nums2 becomes \\[1,1,1\\], so the answer to the third query is 3. Thus, \\[3\\] is returned.\n\n**Example 2:**\n\n**Input:** nums1 = \\[1\\], nums2 = \\[5\\], queries = \\[\\[2,0,0\\],\\[3,0,0\\]\\]\n**Output:** \\[5\\]\n**Explanation:** After the first query, nums2 remains \\[5\\], so the answer to the second query is 5. Thus, \\[5\\] is returned.\n\n**Constraints:**\n\n*   `1 <= nums1.length,nums2.length <= 105`\n*   `nums1.length = nums2.length`\n*   `1 <= queries.length <= 105`\n*   `queries[i].length = 3`\n*   `0 <= l <= r <= nums1.length - 1`\n*   `0 <= p <= 106`\n*   `0 <= nums1[i] <= 1`\n*   `0 <= nums2[i] <= 109`",
  "difficulty": "Hard",
  "category": null,
  "xpReward": 0,
  "timeLimitMs": 5000,
  "memoryLimitMb": 256,
  "starterCode": {},
  "solutionCode": "",
  "hints": [],
  "isPremium": false,
  "createdBy": null,
  "testCases": [
    {
      "input": [
        [
          1,
          0,
          1
        ],
        [
          0,
          0,
          0
        ],
        [
          [
            1,
            1,
            1
          ],
          [
            2,
            1,
            0
          ],
          [
            3,
            0,
            0
          ]
        ]
      ],
      "expectedOutput": [
        3
      ]
    },
    {
      "input": [
        [
          1
        ],
        [
          5
        ],
        [
          [
            2,
            0,
            0
          ],
          [
            3,
            0,
            0
          ]
        ]
      ],
      "expectedOutput": [
        5
      ]
    }
  ],
  "hiddenTestCases": [
    {
      "input": [
        [
          1,
          0,
          1
        ],
        [
          0,
          0,
          0
        ],
        [
          [
            1,
            1,
            1
          ],
          [
            2,
            1,
            0
          ],
          [
            3,
            0,
            0
          ]
        ]
      ],
      "expectedOutput": [
        3
      ]
    },
    {
      "input": [
        [
          1
        ],
        [
          5
        ],
        [
          [
            2,
            0,
            0
          ],
          [
            3,
            0,
            0
          ]
        ]
      ],
      "expectedOutput": [
        5
      ]
    }
  ],
  "tags": [],
  "constraints": [],
  "examples": [],
  "problemNumber": null,
  "createdAt": "2025-11-14T21:26:24.676089+00:00",
  "updatedAt": "2025-12-04T04:35:19.086Z"
}
