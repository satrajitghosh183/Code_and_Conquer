{
  "id": "0b929eeb-702a-4b71-9600-39194e05b653",
  "title": "Tree of Coprimes",
  "slug": "tree-of-coprimes",
  "description": "There is a tree (i.e., a connected, undirected graph that has no cycles) consisting of `n` nodes numbered from `0` to `n - 1` and exactly `n - 1` edges. Each node has a value associated with it, and the **root** of the tree is node `0`.\n\nTo represent this tree, you are given an integer array `nums` and a 2D array `edges`. Each `nums[i]` represents the `ith` node's value, and each `edges[j] = [uj, vj]` represents an edge between nodes `uj` and `vj` in the tree.\n\nTwo values `x` and `y` are **coprime** if `gcd(x, y) == 1` where `gcd(x, y)` is the **greatest common divisor** of `x` and `y`.\n\nAn ancestor of a node `i` is any other node on the shortest path from node `i` to the **root**. A node is **not** considered an ancestor of itself.\n\nReturn _an array_ `ans` _of size_ `n`, _where_ `ans[i]` _is the closest ancestor to node_ `i` _such that_ `nums[i]` _and_ `nums[ans[i]]` are **coprime**, or `-1` _if there is no such ancestor_.\n\n**Example 1:**\n\n**Input:** nums = \\[2,3,3,2\\], edges = \\[\\[0,1\\],\\[1,2\\],\\[1,3\\]\\]\n**Output:** \\[-1,0,0,1\\]\n**Explanation:** In the above figure, each node's value is in parentheses.\n- Node 0 has no coprime ancestors.\n- Node 1 has only one ancestor, node 0. Their values are coprime (gcd(2,3) == 1).\n- Node 2 has two ancestors, nodes 1 and 0. Node 1's value is not coprime (gcd(3,3) == 3), but node 0's\n  value is (gcd(2,3) == 1), so node 0 is the closest valid ancestor.\n- Node 3 has two ancestors, nodes 1 and 0. It is coprime with node 1 (gcd(3,2) == 1), so node 1 is its\n  closest valid ancestor.\n\n**Example 2:**\n\n**Input:** nums = \\[5,6,10,2,3,6,15\\], edges = \\[\\[0,1\\],\\[0,2\\],\\[1,3\\],\\[1,4\\],\\[2,5\\],\\[2,6\\]\\]\n**Output:** \\[-1,0,-1,0,0,0,-1\\]\n\n**Constraints:**\n\n*   `nums.length == n`\n*   `1 <= nums[i] <= 50`\n*   `1 <= n <= 105`\n*   `edges.length == n - 1`\n*   `edges[j].length == 2`\n*   `0 <= uj, vj < n`\n*   `uj != vj`",
  "difficulty": "Hard",
  "category": null,
  "xpReward": 0,
  "timeLimitMs": 5000,
  "memoryLimitMb": 256,
  "starterCode": {},
  "solutionCode": "",
  "hints": [],
  "isPremium": false,
  "createdBy": null,
  "testCases": [
    {
      "input": [
        [
          2,
          3,
          3,
          2
        ],
        [
          [
            0,
            1
          ],
          [
            1,
            2
          ],
          [
            1,
            3
          ]
        ]
      ],
      "expectedOutput": [
        -1,
        0,
        0,
        1
      ]
    },
    {
      "input": [
        [
          5,
          6,
          10,
          2,
          3,
          6,
          15
        ],
        [
          [
            0,
            1
          ],
          [
            0,
            2
          ],
          [
            1,
            3
          ],
          [
            1,
            4
          ],
          [
            2,
            5
          ],
          [
            2,
            6
          ]
        ]
      ],
      "expectedOutput": "[-1,0,-1,0,0,0,-1]\n\n**Constraints:**\n\n*   `nums.length == n`\n*   `1 <= nums[i] <= 50`\n*   `1 <= n <= 105`\n*   `edges.length == n - 1`\n*   `edges[j].length == 2`\n*   `0 <= uj, vj < n`\n*   `uj != vj`"
    }
  ],
  "hiddenTestCases": [
    {
      "input": [
        [
          2,
          3,
          3,
          2
        ],
        [
          [
            0,
            1
          ],
          [
            1,
            2
          ],
          [
            1,
            3
          ]
        ]
      ],
      "expectedOutput": [
        -1,
        0,
        0,
        1
      ]
    },
    {
      "input": [
        [
          5,
          6,
          10,
          2,
          3,
          6,
          15
        ],
        [
          [
            0,
            1
          ],
          [
            0,
            2
          ],
          [
            1,
            3
          ],
          [
            1,
            4
          ],
          [
            2,
            5
          ],
          [
            2,
            6
          ]
        ]
      ],
      "expectedOutput": "[-1,0,-1,0,0,0,-1]\n\n**Constraints:**\n\n*   `nums.length == n`\n*   `1 <= nums[i] <= 50`\n*   `1 <= n <= 105`\n*   `edges.length == n - 1`\n*   `edges[j].length == 2`\n*   `0 <= uj, vj < n`\n*   `uj != vj`"
    }
  ],
  "tags": [],
  "constraints": [],
  "examples": [],
  "problemNumber": null,
  "createdAt": "2025-11-14T21:23:01.655822+00:00",
  "updatedAt": "2025-12-04T04:36:51.706Z"
}
