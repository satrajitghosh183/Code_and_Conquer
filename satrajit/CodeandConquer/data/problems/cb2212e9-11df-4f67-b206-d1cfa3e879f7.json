{
  "id": "cb2212e9-11df-4f67-b206-d1cfa3e879f7",
  "title": "Number of Ways to Reorder Array to Get Same BST",
  "slug": "number-of-ways-to-reorder-array-to-get-same-bst",
  "description": "Given an array `nums` that represents a permutation of integers from `1` to `n`. We are going to construct a binary search tree (BST) by inserting the elements of `nums` in order into an initially empty BST. Find the number of different ways to reorder `nums` so that the constructed BST is identical to that formed from the original array `nums`.\n\n*   For example, given `nums = [2,1,3]`, we will have 2 as the root, 1 as a left child, and 3 as a right child. The array `[2,3,1]` also yields the same BST but `[3,2,1]` yields a different BST.\n\nReturn _the number of ways to reorder_ `nums` _such that the BST formed is identical to the original BST formed from_ `nums`.\n\nSince the answer may be very large, **return it modulo** `109 + 7`.\n\n**Example 1:**\n\n**Input:** nums = \\[2,1,3\\]\n**Output:** 1\n**Explanation:** We can reorder nums to be \\[2,3,1\\] which will yield the same BST. There are no other ways to reorder nums which will yield the same BST.\n\n**Example 2:**\n\n**Input:** nums = \\[3,4,5,1,2\\]\n**Output:** 5\n**Explanation:** The following 5 arrays will yield the same BST: \n\\[3,1,2,4,5\\]\n\\[3,1,4,2,5\\]\n\\[3,1,4,5,2\\]\n\\[3,4,1,2,5\\]\n\\[3,4,1,5,2\\]\n\n**Example 3:**\n\n**Input:** nums = \\[1,2,3\\]\n**Output:** 0\n**Explanation:** There are no other orderings of nums that will yield the same BST.\n\n**Constraints:**\n\n*   `1 <= nums.length <= 1000`\n*   `1 <= nums[i] <= nums.length`\n*   All integers in `nums` are **distinct**.",
  "difficulty": "Hard",
  "category": null,
  "xpReward": 0,
  "timeLimitMs": 5000,
  "memoryLimitMb": 256,
  "starterCode": {},
  "solutionCode": "",
  "hints": [],
  "isPremium": false,
  "createdBy": null,
  "testCases": [
    {
      "input": [
        [
          2,
          1,
          3
        ]
      ],
      "expectedOutput": 1
    },
    {
      "input": [
        [
          3,
          4,
          5,
          1,
          2
        ]
      ],
      "expectedOutput": 5
    },
    {
      "input": [
        [
          1,
          2,
          3
        ]
      ],
      "expectedOutput": 0
    }
  ],
  "hiddenTestCases": [
    {
      "input": [
        [
          2,
          1,
          3
        ]
      ],
      "expectedOutput": 1
    },
    {
      "input": [
        [
          3,
          4,
          5,
          1,
          2
        ]
      ],
      "expectedOutput": 5
    }
  ],
  "tags": [],
  "constraints": [],
  "examples": [],
  "problemNumber": null,
  "createdAt": "2025-11-14T21:22:09.396822+00:00",
  "updatedAt": "2025-12-04T04:37:16.203Z"
}
