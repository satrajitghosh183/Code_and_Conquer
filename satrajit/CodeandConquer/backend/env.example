# ===========================================
# Code and Conquer Backend - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# ===========================================
# REQUIRED CONFIGURATION
# ===========================================

# Supabase Configuration
# Get these from your Supabase project settings > API
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# ===========================================
# SERVER CONFIGURATION
# ===========================================

# Server port and host
PORT=5000
HOST=0.0.0.0

# Environment: development, production, test
NODE_ENV=development

# Frontend URL (for CORS and OAuth redirects after authentication)
# IMPORTANT: Must match exactly where your frontend runs
CLIENT_URL=http://localhost:3000

# Backend/Server URL (for OAuth callbacks)
# IMPORTANT: This is where OAuth providers will redirect after user authorizes
# Must be accessible from the internet if using OAuth in production
SERVER_URL=http://localhost:5000

# Database type: 'supabase' or 'local'
DATABASE_TYPE=supabase

# ===========================================
# SECURITY & RATE LIMITING
# ===========================================

# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Code execution timeout (milliseconds)
EXECUTION_TIMEOUT=10000

# Logging level: error, warn, info, debug
LOG_LEVEL=info

# Session secret (for session management)
SESSION_SECRET=your-random-session-secret-here-make-it-long-and-random

# ===========================================
# OPTIONAL: PAYMENT (STRIPE)
# ===========================================

# Stripe configuration for premium features
# Get these from your Stripe dashboard
STRIPE_SECRET_KEY=sk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# ===========================================
# OPTIONAL: TODOIST INTEGRATION
# ===========================================
# To enable Todoist task sync:
# 1. Go to https://developer.todoist.com/appconsole.html
# 2. Create a new app
# 3. Set OAuth redirect URI to: http://localhost:5000/auth/todoist/callback
#    (or your production SERVER_URL + /auth/todoist/callback)
# 4. Copy Client ID and Client Secret below

TODOIST_CLIENT_ID=your-todoist-client-id
TODOIST_CLIENT_SECRET=your-todoist-client-secret

# ===========================================
# OPTIONAL: GOOGLE CALENDAR INTEGRATION
# ===========================================
# To enable Google Calendar sync:
# 1. Go to https://console.cloud.google.com/
# 2. Create a new project or select existing
# 3. Enable Google Calendar API
# 4. Go to Credentials > Create Credentials > OAuth Client ID
# 5. Application type: Web application
# 6. Add Authorized redirect URI: http://localhost:5000/auth/google-calendar/callback
#    (or your production SERVER_URL + /auth/google-calendar/callback)
# 7. Copy Client ID and Client Secret below

GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
