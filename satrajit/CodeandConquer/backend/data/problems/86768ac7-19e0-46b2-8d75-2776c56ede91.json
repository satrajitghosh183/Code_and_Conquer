{
  "id": "86768ac7-19e0-46b2-8d75-2776c56ede91",
  "title": "Number of Restricted Paths From First to Last Node",
  "slug": "number-of-restricted-paths-from-first-to-last-node",
  "description": "There is an undirected weighted connected graph. You are given a positive integer `n` which denotes that the graph has `n` nodes labeled from `1` to `n`, and an array `edges` where each `edges[i] = [ui, vi, weighti]` denotes that there is an edge between nodes `ui` and `vi` with weight equal to `weighti`.\n\nA path from node `start` to node `end` is a sequence of nodes `[z0, z1, z2, ..., zk]` such that `z0 = start` and `zk = end` and there is an edge between `zi` and `zi+1` where `0 <= i <= k-1`.\n\nThe distance of a path is the sum of the weights on the edges of the path. Let `distanceToLastNode(x)` denote the shortest distance of a path between node `n` and node `x`. A **restricted path** is a path that also satisfies that `distanceToLastNode(zi) > distanceToLastNode(zi+1)` where `0 <= i <= k-1`.\n\nReturn _the number of restricted paths from node_ `1` _to node_ `n`. Since that number may be too large, return it **modulo** `109 + 7`.\n\n**Example 1:**\n\n**Input:** n = 5, edges = \\[\\[1,2,3\\],\\[1,3,3\\],\\[2,3,1\\],\\[1,4,2\\],\\[5,2,2\\],\\[3,5,1\\],\\[5,4,10\\]\\]\n**Output:** 3\n**Explanation:** Each circle contains the node number in black and its `distanceToLastNode value in blue.` The three restricted paths are:\n1) 1 --> 2 --> 5\n2) 1 --> 2 --> 3 --> 5\n3) 1 --> 3 --> 5\n\n**Example 2:**\n\n**Input:** n = 7, edges = \\[\\[1,3,1\\],\\[4,1,2\\],\\[7,3,4\\],\\[2,5,3\\],\\[5,6,1\\],\\[6,7,2\\],\\[7,5,3\\],\\[2,6,4\\]\\]\n**Output:** 1\n**Explanation:** Each circle contains the node number in black and its `distanceToLastNode value in blue.` The only restricted path is 1 --> 3 --> 7.\n\n**Constraints:**\n\n*   `1 <= n <= 2 * 104`\n*   `n - 1 <= edges.length <= 4 * 104`\n*   `edges[i].length == 3`\n*   `1 <= ui, vi <= n`\n*   `ui != vi`\n*   `1 <= weighti <= 105`\n*   There is at most one edge between any two nodes.\n*   There is at least one path between any two nodes.",
  "difficulty": "Medium",
  "category": null,
  "xpReward": 0,
  "timeLimitMs": 5000,
  "memoryLimitMb": 256,
  "starterCode": [],
  "solutionCode": "",
  "hints": [],
  "isPremium": false,
  "createdBy": null,
  "testCases": [
    {
      "input": [
        5,
        [
          [
            1,
            2,
            3
          ],
          [
            1,
            3,
            3
          ],
          [
            2,
            3,
            1
          ],
          [
            1,
            4,
            2
          ],
          [
            5,
            2,
            2
          ],
          [
            3,
            5,
            1
          ],
          [
            5,
            4,
            10
          ]
        ]
      ],
      "expectedOutput": 3
    },
    {
      "input": [
        7,
        [
          [
            1,
            3,
            1
          ],
          [
            4,
            1,
            2
          ],
          [
            7,
            3,
            4
          ],
          [
            2,
            5,
            3
          ],
          [
            5,
            6,
            1
          ],
          [
            6,
            7,
            2
          ],
          [
            7,
            5,
            3
          ],
          [
            2,
            6,
            4
          ]
        ]
      ],
      "expectedOutput": 1
    }
  ],
  "hiddenTestCases": [
    {
      "input": [
        5,
        [
          [
            1,
            2,
            3
          ],
          [
            1,
            3,
            3
          ],
          [
            2,
            3,
            1
          ],
          [
            1,
            4,
            2
          ],
          [
            5,
            2,
            2
          ],
          [
            3,
            5,
            1
          ],
          [
            5,
            4,
            10
          ]
        ]
      ],
      "expectedOutput": 3
    },
    {
      "input": [
        7,
        [
          [
            1,
            3,
            1
          ],
          [
            4,
            1,
            2
          ],
          [
            7,
            3,
            4
          ],
          [
            2,
            5,
            3
          ],
          [
            5,
            6,
            1
          ],
          [
            6,
            7,
            2
          ],
          [
            7,
            5,
            3
          ],
          [
            2,
            6,
            4
          ]
        ]
      ],
      "expectedOutput": 1
    }
  ],
  "tags": [],
  "constraints": [],
  "examples": [],
  "createdAt": "2025-11-14T21:23:07.051227+00:00",
  "updatedAt": "2025-12-04T04:36:49.237Z"
}
