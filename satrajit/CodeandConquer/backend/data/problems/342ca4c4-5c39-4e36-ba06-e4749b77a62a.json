{
  "id": "342ca4c4-5c39-4e36-ba06-e4749b77a62a",
  "title": "Design Authentication Manager",
  "slug": "design-authentication-manager",
  "description": "There is an authentication system that works with authentication tokens. For each session, the user will receive a new authentication token that will expire `timeToLive` seconds after the `currentTime`. If the token is renewed, the expiry time will be **extended** to expire `timeToLive` seconds after the (potentially different) `currentTime`.\n\nImplement the `AuthenticationManager` class:\n\n*   `AuthenticationManager(int timeToLive)` constructs the `AuthenticationManager` and sets the `timeToLive`.\n*   `generate(string tokenId, int currentTime)` generates a new token with the given `tokenId` at the given `currentTime` in seconds.\n*   `renew(string tokenId, int currentTime)` renews the **unexpired** token with the given `tokenId` at the given `currentTime` in seconds. If there are no unexpired tokens with the given `tokenId`, the request is ignored, and nothing happens.\n*   `countUnexpiredTokens(int currentTime)` returns the number of **unexpired** tokens at the given currentTime.\n\nNote that if a token expires at time `t`, and another action happens on time `t` (`renew` or `countUnexpiredTokens`), the expiration takes place **before** the other actions.\n\n**Example 1:**\n\n**Input**\n\\[ \"AuthenticationManager \",  \"`renew` \",  \"generate \",  \"`countUnexpiredTokens` \",  \"generate \",  \"`renew` \",  \"`renew` \",  \"`countUnexpiredTokens` \"\\]\n\\[\\[5\\], \\[ \"aaa \", 1\\], \\[ \"aaa \", 2\\], \\[6\\], \\[ \"bbb \", 7\\], \\[ \"aaa \", 8\\], \\[ \"bbb \", 10\\], \\[15\\]\\]\n**Output**\n\\[null, null, null, 1, null, null, null, 0\\]\n\n**Explanation**\nAuthenticationManager authenticationManager = new AuthenticationManager(5); // Constructs the AuthenticationManager with `timeToLive` = 5 seconds.\nauthenticationManager.`renew`( \"aaa \", 1); // No token exists with tokenId  \"aaa \" at time 1, so nothing happens.\nauthenticationManager.generate( \"aaa \", 2); // Generates a new token with tokenId  \"aaa \" at time 2.\nauthenticationManager.`countUnexpiredTokens`(6); // The token with tokenId  \"aaa \" is the only unexpired one at time 6, so return 1.\nauthenticationManager.generate( \"bbb \", 7); // Generates a new token with tokenId  \"bbb \" at time 7.\nauthenticationManager.`renew`( \"aaa \", 8); // The token with tokenId  \"aaa \" expired at time 7, and 8 >= 7, so at time 8 the `renew` request is ignored, and nothing happens.\nauthenticationManager.`renew`( \"bbb \", 10); // The token with tokenId  \"bbb \" is unexpired at time 10, so the `renew` request is fulfilled and now the token will expire at time 15.\nauthenticationManager.`countUnexpiredTokens`(15); // The token with tokenId  \"bbb \" expires at time 15, and the token with tokenId  \"aaa \" expired at time 7, so currently no token is unexpired, so return 0.\n\n**Constraints:**\n\n*   `1 <= timeToLive <= 108`\n*   `1 <= currentTime <= 108`\n*   `1 <= tokenId.length <= 5`\n*   `tokenId` consists only of lowercase letters.\n*   All calls to `generate` will contain unique values of `tokenId`.\n*   The values of `currentTime` across all the function calls will be **strictly increasing**.\n*   At most `2000` calls will be made to all functions combined.",
  "difficulty": "Medium",
  "category": null,
  "xpReward": 0,
  "timeLimitMs": 5000,
  "memoryLimitMb": 256,
  "starterCode": [],
  "solutionCode": "",
  "hints": [],
  "isPremium": false,
  "createdBy": null,
  "testCases": [],
  "hiddenTestCases": [],
  "tags": [],
  "constraints": [],
  "examples": [],
  "createdAt": "2025-11-14T21:23:09.462892+00:00",
  "updatedAt": "2025-12-04T04:31:30.439Z"
}
