{
  "id": "5d0b41ad-34fd-4184-95e0-ca08c02f51ab",
  "title": "Rank Transform of a Matrix",
  "slug": "rank-transform-of-a-matrix",
  "description": "Given an `m x n` `matrix`, return _a new matrix_ `answer` _where_ `answer[row][col]` _is the_ _**rank** of_ `matrix[row][col]`.\n\nThe **rank** is an **integer** that represents how large an element is compared to other elements. It is calculated using the following rules:\n\n*   The rank is an integer starting from `1`.\n*   If two elements `p` and `q` are in the **same row or column**, then:\n    *   If `p < q` then `rank(p) < rank(q)`\n    *   If `p == q` then `rank(p) == rank(q)`\n    *   If `p > q` then `rank(p) > rank(q)`\n*   The **rank** should be as **small** as possible.\n\nThe test cases are generated so that `answer` is unique under the given rules.\n\n**Example 1:**\n\n**Input:** matrix = \\[\\[1,2\\],\\[3,4\\]\\]\n**Output:** \\[\\[1,2\\],\\[2,3\\]\\]\n**Explanation:**\nThe rank of matrix\\[0\\]\\[0\\] is 1 because it is the smallest integer in its row and column.\nThe rank of matrix\\[0\\]\\[1\\] is 2 because matrix\\[0\\]\\[1\\] > matrix\\[0\\]\\[0\\] and matrix\\[0\\]\\[0\\] is rank 1.\nThe rank of matrix\\[1\\]\\[0\\] is 2 because matrix\\[1\\]\\[0\\] > matrix\\[0\\]\\[0\\] and matrix\\[0\\]\\[0\\] is rank 1.\nThe rank of matrix\\[1\\]\\[1\\] is 3 because matrix\\[1\\]\\[1\\] > matrix\\[0\\]\\[1\\], matrix\\[1\\]\\[1\\] > matrix\\[1\\]\\[0\\], and both matrix\\[0\\]\\[1\\] and matrix\\[1\\]\\[0\\] are rank 2.\n\n**Example 2:**\n\n**Input:** matrix = \\[\\[7,7\\],\\[7,7\\]\\]\n**Output:** \\[\\[1,1\\],\\[1,1\\]\\]\n\n**Example 3:**\n\n**Input:** matrix = \\[\\[20,-21,14\\],\\[-19,4,19\\],\\[22,-47,24\\],\\[-19,4,19\\]\\]\n**Output:** \\[\\[4,2,3\\],\\[1,3,4\\],\\[5,1,6\\],\\[1,3,4\\]\\]\n\n**Constraints:**\n\n*   `m == matrix.length`\n*   `n == matrix[i].length`\n*   `1 <= m, n <= 500`\n*   `-109 <= matrix[row][col] <= 109`",
  "difficulty": "Hard",
  "category": null,
  "xpReward": 0,
  "timeLimitMs": 5000,
  "memoryLimitMb": 256,
  "starterCode": [],
  "solutionCode": "",
  "hints": [],
  "isPremium": false,
  "createdBy": null,
  "testCases": [
    {
      "input": [
        [
          [
            1,
            2
          ],
          [
            3,
            4
          ]
        ]
      ],
      "expectedOutput": [
        [
          1,
          2
        ],
        [
          2,
          3
        ]
      ]
    },
    {
      "input": [
        [
          [
            7,
            7
          ],
          [
            7,
            7
          ]
        ]
      ],
      "expectedOutput": [
        [
          1,
          1
        ],
        [
          1,
          1
        ]
      ]
    },
    {
      "input": [
        [
          [
            20,
            -21,
            14
          ],
          [
            -19,
            4,
            19
          ],
          [
            22,
            -47,
            24
          ],
          [
            -19,
            4,
            19
          ]
        ]
      ],
      "expectedOutput": "[[4,2,3],[1,3,4],[5,1,6],[1,3,4]]\n\n**Constraints:**\n\n*   `m == matrix.length`\n*   `n == matrix[i].length`\n*   `1 <= m, n <= 500`\n*   `-109 <= matrix[row][col] <= 109`"
    }
  ],
  "hiddenTestCases": [
    {
      "input": [
        [
          [
            1,
            2
          ],
          [
            3,
            4
          ]
        ]
      ],
      "expectedOutput": [
        [
          1,
          2
        ],
        [
          2,
          3
        ]
      ]
    },
    {
      "input": [
        [
          [
            7,
            7
          ],
          [
            7,
            7
          ]
        ]
      ],
      "expectedOutput": [
        [
          1,
          1
        ],
        [
          1,
          1
        ]
      ]
    }
  ],
  "tags": [],
  "constraints": [],
  "examples": [],
  "createdAt": "2025-11-14T21:22:30.457073+00:00",
  "updatedAt": "2025-12-04T04:37:10.675Z"
}
